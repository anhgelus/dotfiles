# Template file for 'zen-browser'
pkgname=zen-browser
version=1.18.5b
revision=1
only_for_archs="x86_64"
meta=yes
hostmakedepends="tar xz"
short_desc="Minimalistic web browser"
maintainer="Anhgelus Morhtuuzh <anhgelus.morhtuuzh@proton.me>"
license="MPL-2.0"
homepage="https://www.zen-browser.app/"
distfiles="https://github.com/zen-browser/desktop/releases/download/${version/a/-a}/zen.linux-x86_64.tar.xz"
checksum=7f8ed156cc7f69b7a4a4de7b50291f3dceb0966d30a8dbd941f7340643bad404

do_install() {
	# Install the files
	local package_location="usr/lib/$pkgname" item

	vmkdir usr/share/pixmaps
	vcopy browser/chrome/icons/default/default128.png usr/share/pixmaps/zen-browser.png
	vmkdir usr/share/applications
	vinstall ${FILESDIR}/zen-browser.desktop 644 usr/share/applications
	vmkdir ${package_location}
	chmod +x zen
	vcopy * usr/lib/zen-browser

	# link the binary
	vmkdir usr/bin/
	ln -sfr $DESTDIR/${package_location}/zen $DESTDIR/usr/bin/zen
}

# Add the necessary dependencies if there are any
depends="libX11 libXcomposite libXdamage libXext libXfixes libXt libXtst \
libxkbcommon libxkbcommon-x11 libpng glib gtk+3"

# Specify any optional dependencies
# makedepends="" # Uncomment and set if necessary

# This template assumes precompiled binaries, so you don't need to build from source.
